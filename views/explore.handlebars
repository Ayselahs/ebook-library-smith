{{> header}}

<main>
    <h1>Explorer</h1>
    <form action="/explore/search" method="get">
        <label for="searchInput">Search the Google's most comprehensive index of full-text books </label>
        <input type="text" id="searchInput" name="search">
        <button type="submit">Search Now</button>
    </form>

    <ul>
        {{#each displayedBooks}}
        <li id="bookList">
            <div class="explore">
                <img src="{{picture}}" alt="{{title}}">
                <p><a href="{{link}}" target="_blank">{{title}} </a> by {{authors}} - {{genre}}</p>

                <form action="/explore/add" method="post">
                    <input type="hidden" name="title" value="{{title}}">
                    <input type="hidden" name="authors" value="{{authors}}">
                    <input type="hidden" name="genre" value="{{genre}}">
                    <input type="hidden" name="picture" value="{{picture}}">
                    <button type="submit">Add to Library</button>
                </form>

            </div>
        </li>


        {{/each}}
    </ul>

</main>


<script>
    const searchInput = document.getElementById('searchInput')
    searchInput.addEventListener('input', () => {
        const searchBar = searchInput.value.toLowerCase()
        const filterSearch = { title }.filter(info =>
            info.title.toLowerCase().includes(searchBar))
    })


</script>